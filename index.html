<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SeaStarQR</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="toast-message" class="toast"></div>
    <div id="main-spinner" class="spinner hidden"></div>

    <div id="login-page" class="app-page hidden">
        <div class="login-container">
            <h1>SeaStarQR</h1>
            <p>Create dynamic QR codes with just a few taps!</p>
            <div id="login-buttons">
                <button id="google-login-btn" class="btn primary-btn">Login with Google</button>
                <button id="apple-login-btn" class="btn primary-btn">Login with Apple</button>
                <button id="guest-login-btn" class="btn secondary-btn">Continue as Guest</button>
                <div id="auth-spinner" class="spinner small hidden"></div>
            </div>
        </div>
    </div>

    <div id="app-content" class="app-content hidden">
        <header class="app-header">
            <h2>SeaStarQR</h2>
            <nav class="main-nav">
                <button id="home-btn" class="nav-btn active">Home</button>
                <button id="create-qr-btn" class="nav-btn">Create</button>
                <button id="scan-qr-btn" class="nav-btn">Scan</button>
                <button id="my-qrs-btn" class="nav-btn">My QRs</button>
                <button id="settings-btn" class="nav-btn">Settings</button>
                <button id="logout-btn" class="btn secondary-btn">Logout</button>
            </nav>
        </header>

        <main class="main-content">
            <section id="home-page" class="app-page hidden">
                <h1 id="welcome-message">Welcome!</h1>
                <p>Your ultimate tool for dynamic QR code creation and management.</p>
                <div class="quick-actions">
                    <button class="btn primary-btn" onclick="Utils.navigateTo('create-qr')">Create New QR</button>
                    <button class="btn secondary-btn" onclick="Utils.navigateTo('scan')">Scan QR Code</button>
                    <button class="btn secondary-btn" onclick="Utils.navigateTo('history')">View History</button>
                </div>
            </section>

            <section id="create-qr-page" class="app-page hidden qr-creation-wizard">
                <h2 class="page-title">Create QR Code</h2>

                <div id="type-selection-step" class="qr-creation-step hidden">
                    <h3>1. Select QR Type</h3>
                    <div id="qr-type-selection" class="qr-type-grid">
                        // QR type cards will be rendered here by JS
                    </div>
                </div>

                <div id="content-editor-step" class="qr-creation-step hidden">
                    <button class="btn back-btn" id="back-to-type-selection">← Back</button>
                    <h3 id="content-editor-title">2. Enter Content</h3>
                    <div id="content-input-fields">
                        // Dynamic input fields will be rendered here by JS
                    </div>
                    <button class="btn primary-btn" id="next-to-design">Next: Customize Design</button>
                </div>

                <div id="design-editor-step" class="qr-creation-step hidden">
                    <button class="btn back-btn" id="back-to-content-editor">← Back</button>
                    <h3>3. Customize Design</h3>
                    <div class="design-layout">
                        <div id="design-editor-controls" class="design-controls">
                            // Design controls will be rendered here by JS
                        </div>
                        <div class="qr-preview-container">
                            <h4>Live QR Preview</h4>
                            <div id="qr-code-preview" class="qr-code-preview">
                                // QR code will be rendered here by JS
                            </div>
                        </div>
                    </div>
                    <button class="btn primary-btn" id="generate-qr-btn">Generate QR Code</button>
                    <button class="btn secondary-btn" id="download-qr-btn">Download Preview</button>
                </div>
            </section>

            <section id="scan-page" class="app-page hidden">
                <h2 class="page-title">Scan QR Code</h2>
                <div id="reader" style="width: 100%; height: 400px;"></div>
                <div class="scan-controls">
                    <button id="stop-scan-btn" class="btn secondary-btn">Stop Scan</button>
                    <input type="file" id="qr-image-input" accept="image/*" class="hidden">
                    <button id="upload-image-scan-btn" class="btn secondary-btn">Scan from Image</button>
                </div>
            </section>

            <section id="history-page" class="app-page hidden">
                <h2 class="page-title">History</h2>
                <div class="tabs" id="history-tabs">
                    <button id="history-tab-scanned" class="tab-button active">Scanned</button>
                    <button id="history-tab-favorites" class="tab-button">Favorites</button>
                </div>
                <div id="history-list-container" class="item-list">
                    // Scanned and Favorite items will be rendered here
                </div>
            </section>

            <section id="myQRs-page" class="app-page hidden">
                <h2 class="page-title">My QR Codes</h2>
                <div class="filter-sort-bar">
                    <input type="text" id="my-qrs-search-input" placeholder="Search by name or type...">
                    <select id="my-qrs-filter-type">
                        <option value="All">All Types</option>
                        <option value="URL">URL</option>
                        <option value="Text">Text</option>
                        <option value="WhatsApp">WhatsApp</option>
                        <option value="PDF">PDF</option>
                        <option value="Image">Image</option>
                        <option value="WiFi">WiFi</option>
                        <option value="Booking">Booking</option>
                        // Add more QR types dynamically
                    </select>
                </div>
                <div id="my-qrs-list-container" class="item-list">
                    // Created QR codes will be rendered here
                </div>
            </section>

            <section id="settings-page" class="app-page hidden">
                <h2 class="page-title">Settings</h2>
                <div class="settings-group">
                    <h3>User Preferences</h3>
                    <div class="setting-item">
                        <span>Vibrate on Successful Scan</span>
                        <label class="switch">
                            <input type="checkbox" id="toggle-vibration">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <span>Auto-Open Scanned Content</span>
                        <label class="switch">
                            <input type="checkbox" id="toggle-auto-open">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="settings-group" id="account-management-section">
                    <h3>Account Management</h3>
                    <p>Logged in as: <span id="current-user-name">Guest</span></p>
                    <button id="delete-account-btn" class="btn danger-btn">Delete Account</button>
                </div>
                <div class="settings-group">
                    <h3>Support & About</h3>
                    <button id="send-feedback-btn" class="btn secondary-btn">Send Feedback</button>
                    <button id="view-pricing-btn" class="btn secondary-btn">View Pricing Plans</button>
                </div>
            </section>
        </main>
    </div>

    // External Libraries (include these via CDN or local download)
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode.js/1.0.0/qrcode.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
